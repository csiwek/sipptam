<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>sipp_ta_manager: Package description</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">sipp_ta_manager
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Package description </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Summary of functionality</h1>
<p>This package provides a lot of miscellaneous things that probably should have been included in python's built-in library but weren't, including:</p>
<ul>
<li>Timing execution of a function with a decorator</li>
<li>An abstract class method</li>
<li>A way to get the argument names and values of a function without using **kwargs or *args</li>
<li>An improved ArgParser for parsing command line arguments</li>
<li>A poor man's debug tracer when a better tracer isn't available (for example, when running a python script over ssh)</li>
<li>A way to describe the argument and return types of functions, kind of similar to a statically typed language</li>
<li>A module to get details about a python package (Is it built in? In what file is it? etc.)</li>
<li>LIFO/Stack implementation</li>
<li>Easy event logging</li>
<li>Terminal/user interaction improvements</li>
</ul>
<h1>Detailed functionality</h1>
<h2>Timing execution of a function</h2>
<pre class="fragment">from Lang import timeIt 
</pre><p><code>timeIt</code> is a function decorator, so with the function you want to time, do: </p>
<pre class="fragment">@timeIt
def myFunction(...):
    asdf
</pre><h2>An abstract class method</h2>
<p>The built in <code>abc.abstractmethod</code> decorator won't work if used in conjunction with a <code>classmethod</code> decorator. Use this abstract method decorator instead: </p>
<pre class="fragment">from Lang import abstractmethod

@classmethod
@abstractmethod
def myFunction(...):
    asdf
</pre><h2>Getting a function's arguments</h2>
<p>Python provides <code>**kwargs</code> and <code>*args</code> to get a dictionary or list of a function's arguments, but this makes it hard for IDEs and documentation generators to determine all possible arguments to the function. As an alternative to <code>**kwargs</code> or <code>*args</code>, you can use the <code>getArgs()</code> method: </p>
<pre class="fragment">from Lang import getArgs
def myFunc(arg1, arg2):
    allArgs = getArgs()
</pre><p>This method uses python's built in <code>inspect</code> module to go up the stack and inspect arguments.</p>
<p>In the case above, <code>allArgs</code> will be a list of values, similar to as if <code>*args</code> was used. To get a dictionary of argument names and values instead, similar to <code>**kwargs</code>, use <code>getArgs(useKwargFormat=True)</code>.</p>
<p>Note that <code>cls</code> and <code>self</code> are automatically ignored for class methods and instance methods.</p>
<h2>An improved ArgParser</h2>
<p>In addition to the plethora of features in python's built in <code>ArgParser</code>, a few more are added in here:</p>
<ul>
<li>Improved help formatting, similar to <code>man</code></li>
<li>3 way boolean (<code>True</code>, <code>False</code>, <code>None</code>)</li>
<li>Required named parameters - the built in ArgParser only supports required positional arguments and optional named parameters</li>
</ul>
<p>The new <code>ArgParser</code> uses the same interface as the old one, so see the built in <code>ArgParser</code> documentation.</p>
<p>Example: </p>
<pre class="fragment">from Lang.ArgParser import ArgParser
parser = ArgParser(argument_default=None, add_help=True, description="Adds a user to a linux machine")
parser.add_argument("username")
parser.add_argument("-p", "--password", required=False, help="Prompt for password if this is not given")
parser.add_argument("-H", "--create-home", type=Bool3Way, required=True,
    help="Controls home directory creation for user. None uses the default behavior which varies between machines.")
args = parser.parse_args()
</pre><h2>Poor man's debugger</h2>
<p>Several arguments are available here. See the source for more details. </p>
<pre class="fragment">from Lang.DebugTracer import setTraceOn
setTraceOn()
</pre><h2>Describing a function's argument and return types</h2>
<p>Some convenience classes are defined here that provide a thin, rough API for describing types. See the source in <code>Lang.Function</code> for details.</p>
<h2>Details about python packages</h2>
<p>Python can provide a lot of information about a package and a lot of different ways of loading packages, but the functions and code to accomplish this is scattered. This <code>PkgUtil</code> module provides everything in one location. </p>
<pre class="fragment">from PyPkgUtil import PkgUtil
</pre><h3>Is it built in?</h3>
<p>A built in module is one who's source is not defined in a file. </p>
<pre class="fragment">PkgUtil.isBuiltin(moduleObj)
</pre><h3>Is it included in a stock python distibution?</h3>
<pre class="fragment">PkgUtil.isStock(moduleObj)
</pre><h3>Is an object a module or a package?</h3>
<pre class="fragment">PkgUtil.isModule(obj)
PkgUtil.isPackage(obj)
</pre><h3>Getting all modules and packages imported by a module</h3>
<pre class="fragment">PkgUtil.getSubs(moduleObj, isRecursive)
</pre><p>Returns a flat list with all modules and packages.</p>
<h3>Getting all packages imported by a module</h3>
<pre class="fragment">PkgUtil.getSubPackages(moduleObj, isRecursive)
</pre><p>Returns a flat list.</p>
<h3>Full module path -&gt; Relative module path</h3>
<p>Convert the full file path of a module to a relative path, which can be used for importing: </p>
<pre class="fragment">relPath = PkgUtil.convert_fullPathToRelative(fullPath)
</pre><h3>Object -&gt; Full path</h3>
<p>Get the full file path of a module or package object: </p>
<pre class="fragment">fullPath = PkgUtil.convert_objectToFullPath(obj)
</pre><h3>Full path -&gt; Object</h3>
<p>Get the module or package object from a full path, aka import a module or package at the specified path: </p>
<pre class="fragment">obj = PkgUtil.convert_fullPathToObject(fullPath)
</pre><h3>Name string -&gt; Object</h3>
<p>Import an object by its name: </p>
<pre class="fragment">obj = PkgUtil.convert_nameToObject("moduleName")
</pre><h3>Object -&gt; Name string</h3>
<p>Get the name of a module or package: </p>
<pre class="fragment">name = PkgUtil.convert_objectToName(obj)
</pre><h2>LIFO/Stack</h2>
<p>Python lists can be used as stacks, but they don't have the normal API that a stack does. </p>
<pre class="fragment">from Lang.QueueStacks import LIFOstack
stack = LIFOstack()
stack.push("a")
element = stack.peek()
element = stack.pop()
</pre><h2>Event logging</h2>
<p>Python has decent built in logging, but it doesn't follow standard object-oriented concepts where methods represent actions, so the API is not ideal for recording different events in a heavily event based system, as there would need to be a special, separate call to the logging API for every event. The logging API in <code>Lang.Logging</code> fixes this.</p>
<h3>Example using StdoutLogger</h3>
<p>This is a very simplistic example of logging to stdout: </p>
<pre class="fragment">from Lang.Logging import Logging, StdoutLogger
log = Logging(StdoutLogger)
log.notifyMyEvent("details", "in", "arguments", "here")
</pre><h3>Example using a custom logger and/or multiple loggers</h3>
<p>When using multiple loggers, the function you call on the <code>Logging</code> instance will be called on every logger. </p>
<pre class="fragment">from Lang.Logging import Logging, LoggerAbstract, StdoutLogger
class MyFileLog(LoggerAbstract):
    def __init__(self, filePath):
        super(MyLogger, self).__init__()
        self._filePath = filePath
    def notifyFolderCheck(self, folder):
        with open(self._filePath, "a") as file_:
            file_.write("Checking folder: " + folder)

log = Logging((StdoutLogger, MyFileLog))
log.notifyFolderCheck("folder/path/here")
</pre><h3>Logging uncaught exceptions</h3>
<p>When an uncaught exception happens, a special <code>notifyException</code> method will be called on each of your loggers automatically if it exists, with the exception instance and a traceback instance as parameters. What you do with these parameters is up to you, but here is an example: </p>
<pre class="fragment">def notifyException(self, exceptionInstance, tracebackInstance):
    import traceback
    tracebackStr = "".join(traceback.format_tb(tracebackInstance))
    exceptionStr = str(exceptionInstance)
    print(tracebackStr)
    print()
    print(exceptionStr)
</pre><h2>Terminal improvements</h2>
<h3>Asking a question to the user</h3>
<pre class="fragment">from Lang import Terminal
if Terminal.askYesNo("Do you like Star Trek?") == True:
    print("Awesome!")
else:
    print("Your nerd credit has been lowered")
</pre><h3>Using formatted text on the terminal</h3>
<pre class="fragment">from Lang.Terminal import FormattedText
</pre><p><code>FormattedText</code> returns a subclass of the built in python <code>str</code> type. It adds terminal formatting codes when the <code>str</code> function is called on it: </p>
<pre class="fragment">boldStr = str(FormattedText("I'm in bold", bold=True))
</pre><p><code>boldStr</code> will contain some funny looking characters which enable formatting, but these characters do not influence any other function of the string. For example: </p>
<pre class="fragment">char = boldStr[2]
</pre><p>will store <code>m</code> into <code>char</code>. Similarly, <code>len</code> and other functions will act the same as if the string were a direct instantiation of <code>str</code>.</p>
<p>Many more text attributes are available, including coloring - see the source for more information.</p>
<h3>Tables</h3>
<p>Printing tabular data to the terminal is very common. This implementation of a table has a couple extras with it. Here is an example: </p>
<pre class="fragment">from Terminal import Table
table = Table()
table.setColHeaders(("First Name", "Last Name Initial", "Number"))  # optional
table.setColMaxLens([None] * 3)         # enables automatic column sizing for the 3 columns
table.addRow(["Jesse", "C", str(1234)]) # explicitly convert all elements to strings
table.printLive()                       # prints all rows (and headers) that haven't been printed before
</pre><p>If another row is added to the table, another call to <code>printLive()</code> will only print only that new row. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 11 2013 19:43:22 for sipp_ta_manager by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
